"use strict";(()=>{var b="scriptsLoaded";var E="is-loader-shown";var f="home-loader_component",T="home-loader_number-sub-wrap",L="home-loader_number",O="home-loader_number-wrapper",w="home-loader_center-bolt",P="home-loader_center-bolt-wrap",A="home-loader_center-bolt-path",_="bolt-clone-group";window.addEventListener(b,()=>{new g().init()});var g=class{constructor(){this.duplicates=[];this.loaderTimeline=null;this.loaderElement=document.querySelector(`.${f}`),this.originalSvg=document.querySelector(`.${w}`),this.boltContainer=document.querySelector(`.${P}`),this.originalGroup=null,this.originalPath=null}init(){if(sessionStorage.getItem(E)==="true"&&this.loaderElement){this.loaderElement.style.display="none";return}sessionStorage.setItem(E,"true"),this.setupLoaderAnimation()}setupLoaderAnimation(){this.loaderTimeline=gsap.timeline({defaults:{duration:2.5,ease:"power4.inOut"}}),this.setupBoltClones(),this.setupNumberAnimation(),this.setupBoltAnimation(),this.setupFinalTransition(),this.loaderTimeline.play(),console.debug("Loader animation initialized and started")}setupBoltClones(){if(!this.originalSvg||!this.boltContainer||(this.originalGroup=this.originalSvg.querySelector("g"),!this.originalGroup))return;this.originalPath=this.originalSvg.querySelector(`.${A}`);let n=window.innerWidth,o=window.innerHeight,a=this.originalSvg.getBoundingClientRect(),c=a.width,p=a.height,u=Math.sqrt(n*n+o*o)/Math.max(c,p)*33,m=25;for(let r=1;r<=m;r++){let i=this.originalGroup.cloneNode(!0);i.classList.add(_),i.id=`${_}-${r}`,this.originalSvg.appendChild(i),this.duplicates.push(i)}let d=[this.originalGroup,...this.duplicates];gsap.set(this.originalSvg,{transformOrigin:"center center"}),gsap.set(d,{scale:r=>u+r*.4,rotation:90,transformOrigin:"center center",svgOrigin:"center center"}),this.originalPath&&gsap.set(this.originalPath,{fill:"none",stroke:"black"})}setupNumberAnimation(){if(!this.loaderTimeline)return;let n=gsap.timeline(),o=document.querySelector(`.${L}`);if(o){let a={val:0};n.to(a,{val:100,duration:2,onUpdate:()=>{o.textContent=Math.round(a.val).toString()}}).to(`.${T}`,{scale:2,duration:2},"<").to(`.${O}`,{right:"3rem",duration:2},"<").to(`.${T} > *`,{yPercent:200,duration:.8,ease:"power2.inOut"},"+=0.1"),this.loaderTimeline.add(n)}}setupBoltAnimation(){if(!this.loaderTimeline||!this.originalGroup||this.duplicates.length===0)return;let n=[this.originalGroup,...this.duplicates],o=gsap.timeline();o.to(n,{scale:1,rotation:0,duration:1.2,ease:"power4.inOut",transformOrigin:"center center",svgOrigin:"center center",stagger:{amount:.3,from:"start",ease:"power2.in"}}),o.to(`.${_}`,{opacity:1,duration:.15});let a=[this.originalPath];this.duplicates.forEach(e=>{let t=e.querySelector(`.${A}`);t&&a.push(t)});let c=document.querySelector(".cursor_background"),p=c?getComputedStyle(c).backgroundColor:"#ff0000";o.to(n,{scale:1.2,duration:.4},"-=0.2"),o.to(a,{fill:p,stroke:p,duration:.4},"<");let s=this.duplicates.slice(0,4),u=this.duplicates.slice(4,8);this.duplicates.length>8&&o.to(this.duplicates.slice(8),{opacity:0,duration:.2},">"),o.to(s,{yPercent:e=>-63*(e+1),xPercent:e=>-79*(e+1),duration:.8,ease:"power4.out",stagger:{amount:.1,from:"end"}},">"),o.to(u,{yPercent:e=>63*(e+1),xPercent:e=>79*(e+1),duration:.8,ease:"power4.out",stagger:{amount:.1,from:"start"}},"<");let m=[this.originalPath];[...s,...u].forEach(e=>{let t=e.querySelector(`.${A}`);t&&m.push(t)});let d=gsap.timeline(),i=window.innerWidth/2;m.forEach(e=>{if(e){let t=this.createPathExpandAnimation(e,i,1);t&&d.add(t,0)}}),o.add(d,">"),this.loaderTimeline.add(o,"-=1")}createPathExpandAnimation(n,o=10,a=1.2){let c=n.getAttribute("d");if(!c)return null;let p=c.match(/[a-zA-Z][^a-zA-Z]*/g)||[],s=[];p.forEach(r=>{let i=r.charAt(0),e=i===i.toUpperCase(),t=r.substring(1).trim().split(/[\s,]+/).map(parseFloat);switch(i.toUpperCase()){case"M":case"L":for(let l=0;l<t.length;l+=2)s.push({command:i,x:t[l],y:t[l+1],isAbsolute:e});break;case"H":t.forEach(l=>{s.push({command:i,x:l,y:0,isAbsolute:e})});break;case"V":t.forEach(l=>{s.push({command:i,x:0,y:l,isAbsolute:e})});break;case"Z":s.push({command:i,x:0,y:0,isAbsolute:!0});break}});let u={offset:0},m=()=>{let r=u.offset,i=Math.floor(s.length/2),e="";s.forEach((t,l)=>{let C=(l<i?-1:1)*r,h=t.x,S=t.y;t.command.toUpperCase()!=="Z"&&t.command.toUpperCase()!=="V"&&(h=t.x+C),t.command.toUpperCase()==="M"?e+=`M${h} ${S}`:t.command.toUpperCase()==="L"?e+=`L${h} ${S}`:t.command.toUpperCase()==="H"?e+=`H${h}`:t.command.toUpperCase()==="V"?e+=`V${S}`:t.command.toUpperCase()==="Z"&&(e+="Z")}),n.setAttribute("d",e)},d=gsap.timeline();return d.to(u,{offset:o,duration:a,ease:"power4.inOut",onUpdate:m}),d}setupFinalTransition(){this.loaderTimeline&&this.loaderTimeline.to(`.${f}`,{duration:.5,ease:"power2.inOut",yPercent:-100,onComplete:()=>{let n=document.querySelector(`.${f}`);n&&(n.style.display="none")}},"-=0.2")}getTimeline(){return this.loaderTimeline}},B=g;})();
