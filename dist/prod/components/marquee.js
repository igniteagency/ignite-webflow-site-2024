"use strict";(()=>{function x(){if(!gsap||!ScrollTrigger){console.error("GSAP or ScrollTrigger not loaded. Cannot initialize marquee effects.");return}document.querySelectorAll("[data-marquee-scroll-direction-target]").forEach(t=>{let e=t.querySelector("[data-marquee-collection-target]"),r=t.querySelector("[data-marquee-scroll-target]");if(!e||!r)return;let{marqueeSpeed:u,marqueeDirection:p,marqueeScrollSpeed:m}=t.dataset,g=parseFloat(u||"0"),o=p==="right"?1:-1,i=parseFloat(m||"0"),f=window.innerWidth<479?.25:window.innerWidth<991?.5:1;if(e.offsetWidth===0){console.warn("Marquee content has zero width, skipping duplication.",e);return}let S=g*(e.offsetWidth/window.innerWidth)*f,h=t.offsetWidth,q=e.offsetWidth,w=Math.ceil(h/q),l=Math.max(1,w);if(r.style.marginLeft=`${i*-1}%`,r.style.width=`${(i+2)*100}%`,l>0){let a=document.createDocumentFragment();for(let n=0;n<l;n++)a.appendChild(e.cloneNode(!0));r.appendChild(a)}let s=t.querySelectorAll("[data-marquee-collection-target]"),c=gsap.to(s,{xPercent:-100,repeat:-1,duration:S,ease:"linear"}).totalProgress(.5);gsap.set(s,{xPercent:o===1?100:-100}),c.timeScale(o),c.play(),t.setAttribute("data-marquee-status","normal"),ScrollTrigger.create({trigger:t,start:"top bottom",end:"bottom top",onUpdate:a=>{let n=a.direction===1,y=n?-o:o;c.timeScale(y),t.setAttribute("data-marquee-status",n?"normal":"inverted")}});let A=gsap.timeline({scrollTrigger:{trigger:t,start:"0% 100%",end:"100% 0%",scrub:0}}),d=o===-1?i:-i,W=-d;A.fromTo(r,{x:`${d}vw`},{x:`${W}vw`,ease:"none"})})}})();
