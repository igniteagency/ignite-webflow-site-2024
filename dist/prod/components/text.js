"use strict";(()=>{var T="data-duration",A="data-stagger",v="data-trigger-start",l={LETTER_STAGGER:"gsap-letter-stagger",LINE_STAGGER:"gsap-line-stagger",SCRUB_TEXT:"data-scrub",HOVER_STAGGER_TRIGGER:"gsap-hover-stagger-trigger",HOVER_STAGGER:"gsap-hover-stagger"},g=class g{constructor(){this.splitInstances=[];this.animations=[];this.elements=[];this.isRefreshing=!1;this._resizeTimeout=null;this.abortController=new AbortController,new ResizeObserver(this.handleResize.bind(this)).observe(document.body)}static getInstance(){return g.instance||(g.instance=new g),g.instance}init(){this.abortController.signal.aborted&&(this.abortController=new AbortController),this.setupAnimations()}destroy(){this.abortController.abort(),this.clearAnimations()}handleResize(){this.isRefreshing||(this._resizeTimeout&&(window.clearTimeout(this._resizeTimeout),this._resizeTimeout=null),this._resizeTimeout=window.setTimeout(()=>{if(!this.isRefreshing)try{this.isRefreshing=!0,this.refresh()}finally{this.isRefreshing=!1,this._resizeTimeout=null}},500))}refresh(){this.destroy(),this.init()}clearAnimations(){this.animations.forEach(e=>{e.kill()}),this.elements.forEach(e=>{var t;(t=e.animation)==null||t.kill()}),this.splitInstances.forEach(e=>{e.revert()}),this.animations=[],this.elements=[],this.splitInstances=[]}setupAnimations(){this.setupLetterStagger(),this.setupLineStagger(),this.setupScrubText(),this.setupHoverStagger()}setupLetterStagger(){document.querySelectorAll(`[${l.LETTER_STAGGER}]`).forEach(e=>{let t=e,s=new window.SplitType(t,{types:"words,lines,chars",tagName:"span"});this.splitInstances.push(s);let i=this.getStaggerAttrValue(t,.03),a=this.getTriggerAttrValue(t,"center");window.gsap.set(s.chars,{y:"100%"});let o=window.gsap.to(s.chars,{y:"0%",duration:this.getDurationAttrValue(t,1),ease:"expo.inOut",stagger:i,scrollTrigger:{trigger:t,start:`top ${a}`,invalidateOnRefresh:!0}});this.animations.push(o)})}setupLineStagger(){document.querySelectorAll(`[${l.LINE_STAGGER}]`).forEach(e=>{var o;let t=e,s=new window.SplitType(t,{types:"lines",tagName:"span"});this.splitInstances.push(s);let i=this.getDurationAttrValue(t,.3),a=this.getTriggerAttrValue(t,"80%");(o=s.lines)==null||o.forEach(n=>{window.gsap.set(n,{y:"100%",opacity:0});let r=window.gsap.to(n,{y:"0%",opacity:1,duration:i,ease:"expo.out",scrollTrigger:{trigger:n,start:`top ${a}`,toggleActions:"play none none none"}});this.animations.push(r)})})}setupScrubText(){document.querySelectorAll(`[${l.SCRUB_TEXT}]`).forEach(e=>{let t=e,s=new window.SplitType(t,{types:["chars","words"],tagName:"span"});this.splitInstances.push(s),window.gsap.set(s.chars,{opacity:.2});let i=window.gsap.to(s.chars,{scrollTrigger:{trigger:t,start:"top 60%",end:"bottom 30%",scrub:!0,markers:!1,invalidateOnRefresh:!0},opacity:1,stagger:.1,duration:1});this.animations.push(i)})}setupHoverStagger(){document.querySelectorAll(`[${l.HOVER_STAGGER}], [${l.HOVER_STAGGER_TRIGGER}]`).forEach(e=>{let t=e,s={element:t};if(t.hasAttribute(l.HOVER_STAGGER_TRIGGER)){let i=t.querySelectorAll(`[${l.HOVER_STAGGER}]`);if(i.length===0)return;let a=Array.from(i).map(r=>{let u=r,h=new window.SplitType(u,{types:"words,chars",tagName:"span"});this.splitInstances.push(h);let d=this.getDurationAttrValue(u,.8),E=this.getStaggerAttrValue(u,.01),m=window.gsap.timeline({paused:!0});return m.to(h.chars,{yPercent:-100,duration:d,ease:"expo.inOut",stagger:E}),m}),o=()=>a.forEach(r=>r.play()),n=()=>a.forEach(r=>r.reverse());t.addEventListener("mouseenter",o,{signal:this.abortController.signal}),t.addEventListener("focusin",o,{signal:this.abortController.signal}),t.addEventListener("mouseleave",n,{signal:this.abortController.signal}),t.addEventListener("focusout",n,{signal:this.abortController.signal}),a.forEach(r=>{this.animations.push(r)})}else if(t.hasAttribute(l.HOVER_STAGGER)&&!t.closest(`[${l.HOVER_STAGGER_TRIGGER}]`)){let i=new window.SplitType(t,{types:"words,chars",tagName:"span"});this.splitInstances.push(i);let a=this.getDurationAttrValue(t,.8),o=this.getStaggerAttrValue(t,.01),n=window.gsap.timeline({paused:!0});n.to(i.chars,{yPercent:-100,duration:a,ease:"expo.inOut",stagger:o}),s.animation=n,this.elements.push(s);let r=()=>n.play(),u=()=>n.reverse();t.addEventListener("mouseenter",r,{signal:this.abortController.signal}),t.addEventListener("focusin",r,{signal:this.abortController.signal}),t.addEventListener("mouseleave",u,{signal:this.abortController.signal}),t.addEventListener("focusout",u,{signal:this.abortController.signal})}})}getDurationAttrValue(e,t){return parseFloat(e.getAttribute(T)||t.toString())}getStaggerAttrValue(e,t){return parseFloat(e.getAttribute(A)||t.toString())}getTriggerAttrValue(e,t){return e.getAttribute(v)||t}};g.instance=null;var p=g;function R(){let c=p.getInstance();return c.init(),c}})();
