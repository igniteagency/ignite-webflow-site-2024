"use strict";(()=>{var H="scriptsLoaded";window.addEventListener(H,()=>{R()});function R(){let A=()=>{let i=document.createElement("canvas");i.id="reviews-hearts-bg-canvas",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%",i.style.pointerEvents="none",i.style.zIndex="1";let e=document.createElement("canvas");return e.id="reviews-hearts-fg-canvas",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.pointerEvents="none",e.style.zIndex="1000",document.body.appendChild(i),document.body.appendChild(e),{bgCanvas:i,fgCanvas:e}},w=document.querySelector("#reviews-hearts-bg-canvas"),u=document.querySelector("#reviews-hearts-fg-canvas"),{bgCanvas:a,fgCanvas:r}=w&&u?{bgCanvas:w,fgCanvas:u}:A();a.width=window.innerWidth,a.height=window.innerHeight,r.width=window.innerWidth,r.height=window.innerHeight;let y=a.getContext("2d"),f=r.getContext("2d"),p=["\u{1F497}","\u{1F496}","\u{1F49E}","\u{1F495}","\u2764\uFE0F","\u{1F493}","\u{1FA77}","\u2764\uFE0F\u200D\u{1F525}","\u2763\uFE0F","\u{1F49C}"],g;(t=>(t[t.BACKGROUND=0]="BACKGROUND",t[t.FOREGROUND=1]="FOREGROUND"))(g||(g={}));class v{constructor(e){this.initialX=Math.random()*window.innerWidth,this.x=this.initialX,this.y=window.innerHeight+Math.random()*100+50;let t=Math.random();e!==void 0?(this.layer=e,this.layer===0?Math.random()<.7?this.size=30:this.size=45:Math.random()<.7?this.size=60:this.size=80):t<.5?(this.size=30,this.layer=0):t<.8?(this.size=45,this.layer=0):t<.95?(this.size=60,this.layer=1):(this.size=80,this.layer=1),this.size===30?(this.speedY=1.4,this.initialOpacity=.5):this.size===45?(this.speedY=2.3,this.initialOpacity=.7):this.size===60?(this.speedY=3.8,this.initialOpacity=.85):(this.speedY=5.2,this.initialOpacity=1),this.emoji=p[Math.floor(Math.random()*p.length)],this.opacity=this.initialOpacity}update(){if(this.y-=this.speedY,this.y<window.innerHeight*.4){let e=1-(window.innerHeight*.4-this.y)/(window.innerHeight*.4),t=e*e;this.opacity=this.initialOpacity*Math.max(0,t)}return this.y>-this.size&&this.opacity>.1}draw(){if(this.opacity<=.1)return;let e=this.layer===0?y:f;e.save(),e.globalAlpha=this.opacity,e.font=`${this.size}px Arial`,e.textAlign="center",e.textBaseline="middle",e.fillText(this.emoji,this.x,this.y),e.restore()}}let h=[],l=[],C=0,n;function d(i){if(i-C>16){C=i,y.clearRect(0,0,a.width,a.height),f.clearRect(0,0,r.width,r.height);for(let t=h.length-1;t>=0;t--){let o=h[t];o.update()?o.draw():h.splice(t,1)}for(let t=l.length-1;t>=0;t--){let o=l[t];o.update()?o.draw():l.splice(t,1)}}n=requestAnimationFrame(d)}let c=!1,O,s;function m(){if(!s){for(let i=0;i<15;i++)E();s=window.setInterval(E,50),n||(n=requestAnimationFrame(d))}}function b(){s&&(window.clearInterval(s),s=0)}function E(){Math.random()<.8?h.push(new v(0)):l.push(new v(1))}window.addEventListener("scroll",()=>{c||(c=!0,m()),clearTimeout(O),O=window.setTimeout(()=>{c=!1,b()},500)},{passive:!0}),n=requestAnimationFrame(d),window.addEventListener("resize",()=>{a.width=window.innerWidth,a.height=window.innerHeight,r.width=window.innerWidth,r.height=window.innerHeight}),document.addEventListener("visibilitychange",()=>{document.hidden?(s&&(clearInterval(s),s=0),n&&(cancelAnimationFrame(n),n=0)):c&&(m(),n||(n=requestAnimationFrame(d)))}),window.stopHeartsAnimation=()=>(b(),n&&(cancelAnimationFrame(n),n=0),!0),window.startHeartsAnimation=()=>(m(),!0)}})();
